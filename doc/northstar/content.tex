\section{Увод}

\subsection{Намена документа и циљна група}
Текст који следи описује намену апликације, функционалности које она пружа, захтеве који су постављени и идеје за 
даље унапређивање. Документ је намењен члановима развојног тима и клијенту, како би се дефинисала функционалност
коју треба  реализовати.

\subsection{Резиме}
Пројекат “GravityCrusher” је део практичне наставе предмета Принципи софтверског инжењерства. У питању је 
видео игра која се игра у претраживачу, у којој два играча играју један против другог, у окружењу свемира,
са реалистичним утицајем гравитације околних објеката.



\section{Циљ пројекта}
Циљ овог пројекта је израда игре која се извршава на серверу, а контролише и приказује на 
клијентима - Интернет претраживачима. Имплементација би обухватала израду веб сајта који би пружао основне 
функционалности као што су давање основних информација о производу и могућност пријаве корисника. 
Други део имплементације би обухватао израду севера за игру са којим би клијенти комуницирали током играња игре
и који би био задужен за одржавање стања игре, примање команди од клијената и константно прослеђивање стања игре
клијентима који то стање приказују на екран. Веб сајт коме корисник приступа би садржао и JavaScript
апликацију чији задатак би био да прима команде од корисника и прослеђује их серверу, 
као и да прима стање игре од сервера и приказује га у графичком прозору на страници.



\section{Категорије корисника}
Апликација би имала три главне категорије корисника: непријављене кориснике, пријављене кориснике и
администраторе који могу да надгледају поруке у собама.

\subsection{Пријављени корисник}
Пријављени корисници имају приступ свим функционалностима система, као што су прављење нове собе, улазак у
постојећу собу, размена порука у соби, играње игре, као и могућностима чувања статистике и рангирања на ранг
листама.

\subsection{Непријављени корисник}
Непријављени корисници имају приступ функционалностима, као што су прављење нове собе, улазак у постојећу собу и
играње игре, али немају могућности размене порука, чувања статистике и рангирања на ранг листама. 
Неке могућности је потребно ограничити зато што није могуће идентификовати корисника.

\subsection{Администратор}
Администратор је корисник који има могућност да забрани приступ  веб страници одређеним корисницима 
уколико процени да се понашају неприкладно у игри или размени порука.



\section{Опис производа}
Интеракција са корисником се одвија на сајту на који је могуће пријавити се. Постоје странице са описом апликације, o развојном тиму,
страница за иницијализацију игре, страница са листом активних игара, као и страница са интерфејсом за игру.
Страница за иницијализацију игре садржи подешавања за именовање собе, подешавање противника и одабир мапе за игру.
Страница са листом активних игара омогућава одабирање и придруживање већ направљеној соби као гледалац или играч
уколико је отворена за било кога. Страница са интерфејсом за игру садржи основне информације о игри, неке контроле
за игру, прозор за графичко представљање стања игре и скрипту за комуникацију са сервером и рендеровање графике.

\subsection{Опис архитектуре система}
Систем ће бити заснован на трослојној архитектури. На презентационом слоју система приказиваће се стање игре,
кориснички интерфејс за одговарајућу категорију посетиоца сајта и остала обавештења, менији, упитници, анимације.
На слоју пословне логике обрађиваће се подаци добијени од целокупног корисничког интерфејса презентационог слоја:
ажурираће се стање игре, израчунаваће се и памтити релевантни статистички подаци за пријављене играче, одржаваће
се ранг-листе, спајаће се удаљени играчи приликом иницијализовања нове игре итд. У слоју података налазиће се
релациона база података.

\subsection{Преглед коришћених технологија}
Приликом имплементације система биће коришћене следеће технологије:
\begin{itemize}
    \item Презентациони слој: HTML5, CSS3, JavaScript, Bootstrap, WebGL
    \item Слој пословне логике: Node.js, Sockets.io, SQL
    \item Слој података: MySQL Server
\end{itemize}



\section{Функционални захтеви} 
У овом одељку описују се функционалности које систем треба да пружи корисницима, и то заједничке и за сваку
категорију понаособ.

\subsection{Заједничке функционалности за све типове корисника}

\subsubsection{Претрага постојећих соба}
Корисник на посебној страници добије преглед постојећих соба за игру, након чега добија могућност да се 
прикључи соби као активан играч или као посматрач.

\subsubsection{Креирање нове собе}
Корисник на посебној страници има могућност да направи и подеси нову собу за игру. Подешавања могу бити име собе,
мапа за игру, филтери за противника, могућност за размену порука током игре и специфична подешавања за игру. 
Собе могу бити јавног типа, при чему је сваком кориснику дозвољено да се прикључи, односно приватне, 
при чему се позивају само конкретни корисници да играју или посматрају игру.

\subsubsection{Прегледање ранг-л\^{и}ста}
Корисник на посебној страници има могућност да прегледа ранг-листe регистрованих корисника.
Постоји више ранг-л\^{и}ста по различитим критеријумима. Пријављени играчи могу да провере своју позицију
на ранг-листама.

\subsubsection{Учествовање у игри}
Корисник учествује у игри тако што управља својим свемирским бродом путем команди задатих помоћу тастатуре или
миша, или коришћењем разних контрола (дугмића, клизача, прекидача) које ће бити присутне у виду корисничког
интерфејса на страници за играње у току трајања игре.

\subsection{Функционалности непријављених корисника}

\subsubsection{Креирање новог налога} 
Корисник на посебној страници има могућност да се региструје (направи кориснички налог).
Налог се потврђује преко e-mail поруке.

\subsubsection{Пријава на систем}
Корисник на посебној страници има могућност да се пријави на свој кориснички налог.
Након тога статистика игара које корисник игра се везује са његовим налогом. 
Такође администратори добијају приступ својим могућностима након пријаве на систем.

\subsection{Функционалности пријављених корисника}

\subsubsection{Размена порука унутар собе}
Омогућити систем за размену порука унутар сваке собе. Он би био активан уколико је такво подешавање собе.

\subsubsection{Уклањање корисничког налога}
Пријављени корисник шаље захтев за уклањање свог корисничког налога. Уколико корисник прође одговарајуће провере,
налог ће бити уклоњен; у супротном налог неће бити уклоњен.

\subsubsection{Подешавање корисничког налога}
Корисник има могућност да подешава параметре свог налога: корисничко име и лозинку.

\subsubsection{Подношење захтева за обнављањем лозинке}
Уколико заборави своју лозинку, корисник има могућност да поднесе захтев за промену лозинке. 
Даља упутства за промену лозинке биће послата на e-mail адресу
са којом је корисник регистровао свој налог.
Након пријема e-mail поруке, корисник ће добити приступ посебној
страници на којој ће моћи да унесе нову лозинку.

\subsection{Функционалности администратора}

\subsubsection{Санкционисање играча}
Администратори имају могућности да санкционишу играче за слање некоректних порука тако што притисну на дугме поред
имена играча у простору за размену порука, што удаљава корсиника из собе.



\section{Претпоставке и ограничења}
За пријаву је потребно да корисник поседује e-mail адресу како би било могуће потврдити валидност налога.
Кашњење пакета које резмењују сервер и клијенти може негативно утицати на искуство играња игре, тако да је
неопходно дизајнирати игру тако да искуство није превише нарушено појавом малог кашњења у интернет вези.



\section{Квалитет}
Потребно је извршити тестирање исправног функционисања сајта и сервера за игру, као и брзине размене информација
између клијената и сервера. Обратити пажњу на спречавање уноса малициозног SQL кода који би могао да оштети базу.



\section{Нефункционални захтеви}
Сервер мора да подржава покретање Node.js програма и MySQL базе података. Потребно је обезбедити компатибилност 
и исправно приказивање страница на свим релевантним претраживачима. Претраживачи морају подржавати HTML5 стандард
који је неопходан за извршавање корисничких скрипти за графичко приказивање игре.



\section{Захтеви за корисничком документацијом}
Треба обезбедити страницу на сајту на којој би постојала упутства за коришћење сајта и играње игре за све врсте
корисника.



\section{План и приоритети}

\subsection{Примарно}
Примарно је потребно израдити следеће делове производа:
\begin{itemize}

\item Дизајн веб сајта

\item Систем за пријаву корисника на систем

\item Сервер за игру који може да комуницира са клијентима и извршава више инстанци игре у реалном времену

\item Дизајн контрола за игру

\item Графички дизајн игре који ће бити приказан играчима и посматрачима током игре

\end{itemize}

\subsection{Додатно}
Поред основних функционалности, требало би обезбедити и:
\begin{itemize}
    
    \item Систем за чување статистике играча и неколико начина за рангирање

    \item Могућност размене порука унутар собе између играча и посматрача

\item Оптимизација сајта тако да је игру могуће играти на рачунару и телефону    
\end{itemize}
